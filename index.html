<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Terracota Hub</title>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{--s1:4px;--s2:8px;--s3:16px;--s4:24px;--s5:32px;--s6:48px;--bg:#0f0f0f;--bg2:#1a1a1a;--bg3:#242424;--border:rgba(255,255,255,.08);--t1:rgba(255,255,255,.92);--t2:rgba(255,255,255,.56);--t3:rgba(255,255,255,.32);--accent:#E07A5F;--pos:#4ADE80;--neg:#F87171;--font:'Inter',-apple-system,sans-serif;--r:12px}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:var(--font);background:var(--bg);color:var(--t1);line-height:1.5;-webkit-font-smoothing:antialiased}

/* Login Screen */
#login{position:fixed;inset:0;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:1000}
#login.hidden{display:none}
.login-box{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);padding:var(--s5);width:100%;max-width:320px;text-align:center}
.login-box h2{font-size:24px;font-weight:600;margin-bottom:var(--s2)}
.login-box p{color:var(--t2);font-size:13px;margin-bottom:var(--s4)}
.login-box input{width:100%;padding:12px 16px;background:var(--bg);border:1px solid var(--border);border-radius:8px;color:var(--t1);font-size:15px;margin-bottom:var(--s3);outline:none;transition:border-color .15s}
.login-box input:focus{border-color:var(--accent)}
.login-box button{width:100%;padding:12px;background:var(--accent);color:#fff;border:none;border-radius:8px;font-size:15px;font-weight:500;cursor:pointer;transition:background .15s}
.login-box button:hover{background:#c96a52}
.login-error{color:var(--neg);font-size:12px;margin-top:var(--s2);display:none}

#dashboard{display:none}
#dashboard.visible{display:block}

/* Nav bar */
.nav{position:sticky;top:0;z-index:100;background:rgba(15,15,15,.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);padding:0 var(--s4)}
.nav-inner{max-width:1120px;margin:0 auto;display:flex;align-items:center;gap:var(--s4);height:56px;overflow-x:auto}
.nav-logo{font-size:18px;font-weight:700;color:var(--accent);white-space:nowrap;flex-shrink:0}
.nav-links{display:flex;gap:var(--s1);flex:1;overflow-x:auto}
.nav-link{padding:8px 14px;border-radius:8px;font-size:13px;font-weight:500;color:var(--t2);text-decoration:none;white-space:nowrap;transition:all .15s;display:flex;align-items:center;gap:6px}
.nav-link:hover{color:var(--t1);background:var(--bg3)}
.nav-link.active{color:var(--accent);background:rgba(224,122,95,.1)}
.nav-link.external{color:var(--t1)}
.nav-link .dot{width:6px;height:6px;border-radius:50%;background:var(--pos);flex-shrink:0}

.c{max-width:1120px;margin:0 auto;padding:var(--s5) var(--s4)}
.hero{text-align:center;padding:var(--s6) 0 var(--s5)}
.hero h1{font-size:36px;font-weight:700;letter-spacing:-.02em;margin-bottom:var(--s2)}
.hero p{color:var(--t2);font-size:15px;max-width:480px;margin:0 auto}

/* Tool cards */
.tools-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--s3);margin-bottom:var(--s6)}
.tool-card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);padding:var(--s4);transition:all .2s;cursor:pointer;text-decoration:none;color:inherit;display:block;position:relative;overflow:hidden}
.tool-card:hover{border-color:rgba(224,122,95,.3);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.3)}
.tool-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--accent);opacity:0;transition:opacity .2s}
.tool-card:hover::before{opacity:1}
.tool-icon{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;margin-bottom:var(--s3)}
.tool-icon.blue{background:rgba(96,165,250,.15)}
.tool-icon.green{background:rgba(74,222,128,.15)}
.tool-icon.amber{background:rgba(251,191,36,.15)}
.tool-name{font-size:15px;font-weight:600;margin-bottom:var(--s1)}
.tool-desc{font-size:12px;color:var(--t2);line-height:1.6}
.tool-badge{position:absolute;top:var(--s3);right:var(--s3);display:flex;align-items:center;gap:4px;font-size:11px;font-weight:500;color:var(--pos)}
.tool-badge .dot{width:6px;height:6px;border-radius:50%;background:var(--pos);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

/* Divider */
.section-divider{display:flex;align-items:center;gap:var(--s3);margin:var(--s5) 0;color:var(--t3);font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:.1em}
.section-divider::before,.section-divider::after{content:'';flex:1;height:1px;background:var(--border)}

/* Existing styles */
.h{margin-bottom:var(--s6)}
.h h1{font-size:32px;font-weight:600;letter-spacing:-.02em}
.h p{color:var(--t2);font-size:15px}
.m{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--s3);margin-bottom:var(--s6)}
.mc{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);padding:var(--s4);transition:transform .15s,border-color .15s}
.mc:hover{border-color:rgba(255,255,255,.12);transform:translateY(-2px)}
.ml{font-size:11px;font-weight:500;color:var(--t3);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--s2)}
.mv{font-size:24px;font-weight:600;letter-spacing:-.02em}
.mv.pos{color:var(--pos)}.mv.neg{color:var(--neg)}
.s{margin-bottom:var(--s6)}
.sh{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--s4);flex-wrap:wrap;gap:var(--s2)}
.st{font-size:17px;font-weight:600}
.sb{font-size:11px;font-weight:500;padding:var(--s1) var(--s2);border-radius:6px;background:var(--accent);color:#fff}
.card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);overflow:hidden;transition:border-color .15s}
.card:hover{border-color:rgba(255,255,255,.12)}
.cb{padding:var(--s4)}
.cg{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--s3)}
.tc{overflow-x:auto;-webkit-overflow-scrolling:touch}
table{width:100%;min-width:480px;border-collapse:collapse}
th{text-align:left;padding:var(--s3);font-size:11px;font-weight:500;color:var(--t3);text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid var(--border);white-space:nowrap}
td{padding:var(--s3);font-size:13px;border-bottom:1px solid var(--border);white-space:nowrap}
tr:last-child td{border-bottom:none}
tr:hover td{background:var(--bg3)}
.tr{text-align:right}.tp{color:var(--pos)}.tn{color:var(--neg)}.tm{color:var(--t2)}.fw{font-weight:500}
.b{display:inline-flex;padding:2px 8px;border-radius:100px;font-size:11px;font-weight:500}
.bp{background:rgba(74,222,128,.15);color:var(--pos)}.bn{background:rgba(248,113,113,.15);color:var(--neg)}.ba{background:rgba(224,122,95,.15);color:var(--accent)}.bm{background:rgba(255,255,255,.06);color:var(--t2)}
.pr{width:64px;height:4px;background:rgba(255,255,255,.08);border-radius:2px;overflow:hidden}
.pf{height:100%;background:var(--accent);border-radius:2px}
.ft{text-align:center;padding:var(--s6) 0;color:var(--t3);font-size:13px}
.month-scroll{display:grid;grid-template-columns:repeat(6,1fr);gap:var(--s2);margin-top:var(--s3)}
.month-card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);text-align:center;padding:var(--s3);position:relative;min-width:0}

@media(max-width:768px){
.c{padding:var(--s4) var(--s3)}
.hero h1{font-size:26px}
.hero{padding:var(--s5) 0 var(--s4)}
.tools-grid{grid-template-columns:1fr}
.m{grid-template-columns:1fr}
.mc{padding:var(--s3)}
.mv{font-size:20px}
.cg{grid-template-columns:1fr}
.h h1{font-size:24px}
table{min-width:360px}
th,td{padding:var(--s2);font-size:12px}
.pr{width:48px}
.month-scroll{display:flex;overflow-x:auto;-webkit-overflow-scrolling:touch;gap:var(--s2);padding-bottom:var(--s2);scroll-snap-type:x mandatory}
.month-card{min-width:100px;flex-shrink:0;scroll-snap-align:start}
.nav-inner{gap:var(--s3)}
}
</style>
</head>
<body>

<!-- Login Screen -->
<div id="login">
<div class="login-box">
<h2>Terracota</h2>
<p>Enter password to access hub</p>
<input type="password" id="pwd" placeholder="Password" onkeypress="if(event.key==='Enter')checkPwd()">
<button onclick="checkPwd()">Access Hub</button>
<div id="loginError" class="login-error">Incorrect password</div>
</div>
</div>

<!-- Main Content -->
<div id="dashboard">

<!-- Navigation Bar -->
<nav class="nav">
<div class="nav-inner">
<span class="nav-logo">Terracota</span>
<div class="nav-links">
<a href="#" class="nav-link active">Hub</a>
<a href="https://terracota-closing-data.vercel.app/dashboard" target="_blank" class="nav-link external"><span class="dot"></span> Live Dashboard</a>
<a href="https://terracota-closing-data.vercel.app" target="_blank" class="nav-link external"><span class="dot"></span> Daily Closing</a>
<a href="#analytics" class="nav-link">Analytics</a>
<a href="#products" class="nav-link">Products</a>
</div>
</div>
</nav>

<div class="c">

<!-- Hero Section -->
<div class="hero">
<h1>Terracota Operations Hub</h1>
<p>Central command for all locations. Live data, analytics, and operational tools in one place.</p>
</div>

<!-- Live Tools Grid -->
<div class="tools-grid">
<a href="https://terracota-closing-data.vercel.app/dashboard" target="_blank" class="tool-card">
<div class="tool-badge"><span class="dot"></span> Live</div>
<div class="tool-icon blue">&#x1F4CA;</div>
<div class="tool-name">Monthly Dashboard</div>
<div class="tool-desc">Real-time KPIs, bank reconciliation, VAT summary, daily breakdown. Filter by location and month.</div>
</a>
<a href="https://terracota-closing-data.vercel.app" target="_blank" class="tool-card">
<div class="tool-badge"><span class="dot"></span> Live</div>
<div class="tool-icon green">&#x1F4DD;</div>
<div class="tool-name">Daily Closing Form</div>
<div class="tool-desc">Staff submits sales, expenses (with OCR), Table 20 items, VAT. Multi-location with role-based access.</div>
</a>
<a href="https://terracota-closing-data.vercel.app/api/export?format=csv" target="_blank" class="tool-card" onclick="event.preventDefault();alert('Export requires admin PIN.\n\nUse curl or fetch:\nfetch(url, { headers: { x-admin-pin: PIN } })\n\nFormats: ?format=csv or ?format=json\nFilters: &from=YYYY-MM-DD&to=YYYY-MM-DD&location=anemona')">
<div class="tool-icon amber">&#x1F4E5;</div>
<div class="tool-name">Data Export API</div>
<div class="tool-desc">CSV or JSON export of all closings. Filter by date range and location. PIN-protected for automation.</div>
</a>
</div>

<!-- Divider -->
<div class="section-divider" id="analytics">Historical Analysis &middot; Aug 2025 â€“ Jan 2026</div>

<!-- Summary Cards -->
<div class="m">
<div class="mc"><div class="ml">Revenue</div><div class="mv">45,497</div></div>
<div class="mc"><div class="ml">Expenses</div><div class="mv">55,262</div></div>
<div class="mc"><div class="ml">Net</div><div class="mv neg">-9,765</div></div>
</div>

<!-- Monthly Overview Chart -->
<section class="s">
<div class="sh"><h2 class="st">Monthly Overview</h2><span class="tm" style="font-size:13px">6 months trend</span></div>
<div class="card"><div style="padding:var(--s4)"><div id="monthlyChart" style="height:280px"></div></div></div>
<div class="month-scroll"><div class="month-card">
<div style="position:absolute;top:6px;right:6px;width:6px;height:6px;border-radius:50%;background:var(--neg)" title="Danger: 1% margin"></div>
<div style="font-size:11px;font-weight:600;margin-bottom:2px">Aug</div>
<div style="font-size:9px;padding:2px 5px;border-radius:4px;background:rgba(248,113,113,.15);color:var(--neg);margin-bottom:4px;display:inline-block">1%</div>
<div style="font-size:14px;font-weight:600;margin-bottom:2px">9,776</div>
<div class="tp" style="font-size:12px;font-weight:500">+64</div>
</div><div class="month-card">
<div style="position:absolute;top:6px;right:6px;width:6px;height:6px;border-radius:50%;background:var(--neg)" title="Danger: -1% margin"></div>
<div style="font-size:11px;font-weight:600;margin-bottom:2px">Sep</div>
<div style="font-size:9px;padding:2px 5px;border-radius:4px;background:rgba(248,113,113,.15);color:var(--neg);margin-bottom:4px;display:inline-block">-1%</div>
<div style="font-size:14px;font-weight:600;margin-bottom:2px">9,003</div>
<div class="tn" style="font-size:12px;font-weight:500">-51</div>
</div><div class="month-card">
<div style="position:absolute;top:6px;right:6px;width:6px;height:6px;border-radius:50%;background:var(--neg)" title="Danger: -29% margin"></div>
<div style="font-size:11px;font-weight:600;margin-bottom:2px">Oct</div>
<div style="font-size:9px;padding:2px 5px;border-radius:4px;background:rgba(248,113,113,.15);color:var(--neg);margin-bottom:4px;display:inline-block">-29%</div>
<div style="font-size:14px;font-weight:600;margin-bottom:2px">9,341</div>
<div class="tn" style="font-size:12px;font-weight:500">-2,726</div>
</div><div class="month-card">
<div style="position:absolute;top:6px;right:6px;width:6px;height:6px;border-radius:50%;background:var(--neg)" title="Danger: -81% margin"></div>
<div style="font-size:11px;font-weight:600;margin-bottom:2px">Nov</div>
<div style="font-size:9px;padding:2px 5px;border-radius:4px;background:rgba(248,113,113,.15);color:var(--neg);margin-bottom:4px;display:inline-block">-81%</div>
<div style="font-size:14px;font-weight:600;margin-bottom:2px">6,265</div>
<div class="tn" style="font-size:12px;font-weight:500">-5,083</div>
</div><div class="month-card">
<div style="position:absolute;top:6px;right:6px;width:6px;height:6px;border-radius:50%;background:var(--neg)" title="Danger: -61% margin"></div>
<div style="font-size:11px;font-weight:600;margin-bottom:2px">Dec</div>
<div style="font-size:9px;padding:2px 5px;border-radius:4px;background:rgba(248,113,113,.15);color:var(--neg);margin-bottom:4px;display:inline-block">-61%</div>
<div style="font-size:14px;font-weight:600;margin-bottom:2px">5,967</div>
<div class="tn" style="font-size:12px;font-weight:500">-3,627</div>
</div><div class="month-card">
<div style="position:absolute;top:6px;right:6px;width:6px;height:6px;border-radius:50%;background:var(--pos)" title="Healthy: 31% margin"></div>
<div style="font-size:11px;font-weight:600;margin-bottom:2px">Jan</div>
<div style="font-size:9px;padding:2px 5px;border-radius:4px;background:rgba(74,222,128,.15);color:var(--pos);margin-bottom:4px;display:inline-block">31%</div>
<div style="font-size:14px;font-weight:600;margin-bottom:2px">5,145</div>
<div class="tp" style="font-size:12px;font-weight:500">+1,595</div>
</div></div></section>

<!-- Early Warning -->
<section class="s">
<div class="sh"><h2 class="st">Early Warning</h2><span class="tm" style="font-size:13px">Phase 1</span></div>
<div class="cg">
<div class="card"><div class="cb">
<div style="margin-bottom:16px;font-size:13px;color:var(--t2)">Breakeven Progress (Jan)</div>
<div style="display:flex;align-items:center;gap:16px;margin-bottom:16px">
<div style="flex:1;height:8px;background:var(--bg);border-radius:4px;overflow:hidden">
<div style="width:40%;height:100%;background:var(--accent);border-radius:4px"></div>
</div>
<span style="font-size:20px;font-weight:600;">40%</span>
</div>
<div style="font-size:13px;line-height:2">
<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border)">
<span>Fixed costs (avg)</span><span class="fw">&#8364;7,095</span></div>
<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border)">
<span>Breakeven revenue</span><span class="fw">&#8364;12,900</span></div>
<div style="display:flex;justify-content:space-between;padding:8px 0">
<span>Current month</span><span class="tn fw">&#8364;5,145</span></div>
</div>
</div></div>
<div class="card"><div class="cb">
<div style="margin-bottom:16px;font-size:13px;color:var(--t2)">Margin Alert Status</div><div style="display:flex;gap:var(--s3);margin-bottom:16px">
<div style="flex:1;text-align:center;padding:12px;background:rgba(74,222,128,.1);border-radius:8px">
<div style="font-size:24px;font-weight:600;color:var(--pos)">1</div>
<div style="font-size:11px;color:var(--t2)">Healthy</div>
</div>
<div style="flex:1;text-align:center;padding:12px;background:rgba(251,191,36,.1);border-radius:8px">
<div style="font-size:24px;font-weight:600;color:#FBBF24">0</div>
<div style="font-size:11px;color:var(--t2)">Warning</div>
</div>
<div style="flex:1;text-align:center;padding:12px;background:rgba(248,113,113,.1);border-radius:8px">
<div style="font-size:24px;font-weight:600;color:var(--neg)">5</div>
<div style="font-size:11px;color:var(--t2)">Danger</div>
</div>
</div><div style="padding:12px;background:rgba(248,113,113,.1);border:1px solid rgba(248,113,113,.3);border-radius:8px;margin-top:12px">
<div style="display:flex;align-items:center;gap:8px;margin-bottom:4px">
<span style="color:var(--neg);font-weight:600">&#9888; Revenue Alert</span>
</div>
<div style="font-size:12px;color:var(--t2)">Jan revenue (&#8364;5,145) is near worst month (Jan: &#8364;5,145). Consider cost reduction.</div>
</div></div></div></div></section>

<!-- Anemona -->
<section class="s">
<div class="sh"><h2 class="st">Anemona</h2><span class="sb">Main</span></div>
<div class="card"><div class="tc"><table>
<thead><tr><th>Month</th><th class="tr">Revenue</th><th class="tr">Expenses</th><th class="tr">Net</th><th class="tr">Status</th></tr></thead>
<tbody><tr><td class="fw">Aug</td><td class="tr">9,776</td><td class="tr tm">9,712</td><td class="tr tp fw">+64</td><td class="tr"><span class="b bp">Profit</span></td></tr><tr><td class="fw">Sep</td><td class="tr">8,637</td><td class="tr tm">9,055</td><td class="tr tn fw">-418</td><td class="tr"><span class="b bn">Loss</span></td></tr><tr><td class="fw">Oct</td><td class="tr">8,704</td><td class="tr tm">12,067</td><td class="tr tn fw">-3,362</td><td class="tr"><span class="b bn">Loss</span></td></tr><tr><td class="fw">Nov</td><td class="tr">5,886</td><td class="tr tm">11,348</td><td class="tr tn fw">-5,462</td><td class="tr"><span class="b bn">Loss</span></td></tr><tr><td class="fw">Dec</td><td class="tr">5,155</td><td class="tr tm">9,531</td><td class="tr tn fw">-4,376</td><td class="tr"><span class="b bn">Loss</span></td></tr><tr><td class="fw">Jan</td><td class="tr">4,742</td><td class="tr tm">3,550</td><td class="tr tp fw">+1,192</td><td class="tr"><span class="b bp">Profit</span></td></tr><tr style="background:var(--bg3)"><td class="fw">Total</td><td class="tr fw">42,900</td><td class="tr tm">55,262</td><td class="tr tn fw">-12,362</td><td></td></tr>
</tbody></table></div></div></section>

<!-- N'Dola -->
<section class="s">
<div class="sh"><h2 class="st">N'Dola</h2><span class="b bm">Since Sep</span></div>
<div class="card"><div class="tc"><table>
<thead><tr><th>Month</th><th class="tr">Revenue</th><th class="tr">Cash</th><th class="tr">Net</th></tr></thead>
<tbody><tr><td class="fw tm">Aug</td><td class="tr tm">&mdash;</td><td class="tr tm">&mdash;</td><td class="tr tm">&mdash;</td></tr><tr><td class="fw">Sep</td><td class="tr">366</td><td class="tr tm">103</td><td class="tr tp fw">+366</td></tr><tr><td class="fw">Oct</td><td class="tr">636</td><td class="tr tm">292</td><td class="tr tp fw">+636</td></tr><tr><td class="fw">Nov</td><td class="tr">379</td><td class="tr tm">198</td><td class="tr tp fw">+379</td></tr><tr><td class="fw">Dec</td><td class="tr">812</td><td class="tr tm">188</td><td class="tr tp fw">+749</td></tr><tr><td class="fw">Jan</td><td class="tr">403</td><td class="tr tm">194</td><td class="tr tp fw">+403</td></tr><tr style="background:var(--bg3)"><td class="fw">Total</td><td class="tr fw">2,597</td><td class="tr tm">975</td><td class="tr tp fw">+2,534</td></tr>
</tbody></table></div></div></section>

<!-- Top Products -->
<div class="section-divider" id="products">Product Intelligence</div>

<section class="s">
<div class="sh"><h2 class="st">Top Products</h2></div>
<div class="card"><div class="tc"><table>
<thead><tr><th style="width:40px">#</th><th>Product</th><th class="tr">Revenue</th><th class="tr">Share</th></tr></thead>
<tbody><tr><td class="tm">1</td><td class="fw">MENU Prato do Dia</td><td class="tr">4,115</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:16.9%"></div></div><span class="tm">16.9%</span></div></td></tr><tr><td class="tm">2</td><td class="fw">Bolo a Fatia Tradicional</td><td class="tr">1,159</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:4.8%"></div></div><span class="tm">4.8%</span></div></td></tr><tr><td class="tm">3</td><td class="fw">Meia Leite</td><td class="tr">1,025</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:4.2%"></div></div><span class="tm">4.2%</span></div></td></tr><tr><td class="tm">4</td><td class="fw">Prato do DIA</td><td class="tr">955</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:3.9%"></div></div><span class="tm">3.9%</span></div></td></tr><tr><td class="tm">5</td><td class="fw">Espresso</td><td class="tr">945</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:3.9%"></div></div><span class="tm">3.9%</span></div></td></tr><tr><td class="tm">6</td><td class="fw">Bolo Vulcao c/ Cobertura</td><td class="tr">937</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:3.9%"></div></div><span class="tm">3.9%</span></div></td></tr><tr><td class="tm">7</td><td class="fw">Bolo a Fatia Especialidade</td><td class="tr">868</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:3.6%"></div></div><span class="tm">3.6%</span></div></td></tr><tr><td class="tm">8</td><td class="fw">Bolos Secos</td><td class="tr">755</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:3.1%"></div></div><span class="tm">3.1%</span></div></td></tr><tr><td class="tm">9</td><td class="fw">Tarte Semifrio</td><td class="tr">716</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:2.9%"></div></div><span class="tm">2.9%</span></div></td></tr><tr><td class="tm">10</td><td class="fw">Tosta Abacate</td><td class="tr">624</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr"><div class="pf" style="width:2.6%"></div></div><span class="tm">2.6%</span></div></td></tr></tbody></table></div></div></section>

<!-- Menu Analysis -->
<section class="s">
<div class="sh"><h2 class="st">Menu Analysis</h2></div>
<div class="cg">
<div class="card"><div class="cb">
<div style="display:flex;align-items:center;gap:8px;margin-bottom:16px"><span class="b bp">Stars</span><span class="tm" style="font-size:13px">47 products</span></div>
<div class="tc"><table style="min-width:auto"><tbody><tr><td>Bolo a Fatia Tradicion</td><td class="tr fw">1,159</td></tr><tr><td>Meia Leite</td><td class="tr fw">1,025</td></tr><tr><td>Espresso</td><td class="tr fw">945</td></tr><tr><td>Bolo Vulcao c/ Cobertu</td><td class="tr fw">937</td></tr><tr><td>Bolos Secos</td><td class="tr fw">755</td></tr><tr><td>Tarte Semifrio</td><td class="tr fw">716</td></tr></tbody></table></div></div></div>
<div class="card"><div class="cb">
<div style="display:flex;align-items:center;gap:8px;margin-bottom:16px"><span class="b bn">Dogs</span><span class="tm" style="font-size:13px">13 products</span></div>
<div class="tc"><table style="min-width:auto"><tbody><tr><td>Salada Salmao</td><td class="tr tn">151</td></tr><tr><td>Salada a Chefe</td><td class="tr tn">122</td></tr><tr><td>Lasanha</td><td class="tr tn">41</td></tr><tr><td>Brigadeiro 8uni</td><td class="tr tn">34</td></tr><tr><td>Salada Vegetariana</td><td class="tr tn">27</td></tr><tr><td>Quiche Especialidades</td><td class="tr tn">24</td></tr><tr><td>Pao Forma, Manteiga, Q</td><td class="tr tn">15</td></tr><tr><td>Croissant</td><td class="tr tn">8</td></tr><tr><td>Cookies Especialidades</td><td class="tr tn">7</td></tr><tr><td>Pain au Chocolat</td><td class="tr tn">5</td></tr><tr><td>Pao Rustico c/ Manteig</td><td class="tr tn">4</td></tr><tr><td>Docinhos Especialidade</td><td class="tr tn">4</td></tr><tr><td>sumol ananas</td><td class="tr tn">0</td></tr><tr style="background:var(--bg3)"><td class="fw">At risk</td><td class="tr tn fw">442</td></tr>
</tbody></table></div></div></div></div></section>

<!-- Expenses -->
<section class="s">
<div class="sh"><h2 class="st">Expenses</h2></div>
<div class="card"><div class="tc"><table>
<thead><tr><th>Category</th><th class="tr">Amount</th><th class="tr">Share</th></tr></thead>
<tbody><tr><td class="fw">Salaries</td><td class="tr">21,467</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:41%"></div></div><span class="tm">41%</span></div></td></tr><tr><td class="fw">Daily Ops</td><td class="tr">11,363</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:22%"></div></div><span class="tm">22%</span></div></td></tr><tr><td class="fw">Rent</td><td class="tr">6,750</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:13%"></div></div><span class="tm">13%</span></div></td></tr><tr><td class="fw">Taxes</td><td class="tr">6,241</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:12%"></div></div><span class="tm">12%</span></div></td></tr><tr><td class="fw">Utilities</td><td class="tr">2,860</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:6%"></div></div><span class="tm">6%</span></div></td></tr><tr><td class="fw">Other</td><td class="tr">1,304</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:3%"></div></div><span class="tm">3%</span></div></td></tr><tr><td class="fw">Accounting</td><td class="tr">1,292</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:2%"></div></div><span class="tm">2%</span></div></td></tr><tr><td class="fw">Insurance</td><td class="tr">521</td><td class="tr"><div style="display:flex;align-items:center;justify-content:flex-end;gap:8px"><div class="pr" style="width:80px"><div class="pf" style="width:1%"></div></div><span class="tm">1%</span></div></td></tr><tr style="background:var(--bg3)"><td class="fw">Total</td><td class="tr fw">51,797</td><td></td></tr>
</tbody></table></div></div></section>

<!-- Staffing Analysis -->
<section class="s">
<div class="sh"><h2 class="st">Staffing Analysis</h2><span class="tm" style="font-size:13px">PT labor context</span></div>
<div class="cg">
<div class="card"><div class="cb">
<div style="margin-bottom:16px;font-size:13px;color:var(--t2)">Day-of-Week Pattern</div>
<div class="tc"><table style="min-width:auto">
<thead><tr><th>Day</th><th class="tr">Avg Rev</th><th class="tr">Load</th></tr></thead>
<tbody><tr><td>Mon</td><td class="tr">&#8364;165</td><td class="tr tm fw">Med</td></tr><tr><td>Tue</td><td class="tr">&#8364;168</td><td class="tr tm fw">Med</td></tr><tr><td>Wed</td><td class="tr">&#8364;171</td><td class="tr tm fw">Med</td></tr><tr><td>Thu</td><td class="tr">&#8364;142</td><td class="tr tn fw">Low</td></tr><tr><td>Fri</td><td class="tr">&#8364;166</td><td class="tr tm fw">Med</td></tr><tr><td>Sat</td><td class="tr">&#8364;193</td><td class="tr tp fw">High</td></tr><tr><td>Sun</td><td class="tr">&#8364;194</td><td class="tr tp fw">High</td></tr></tbody></table></div>
</div></div>
<div class="card"><div class="cb">
<div style="margin-bottom:16px;font-size:13px;color:var(--t2)">Sustainable Headcount (PT Contracts)</div>
<div style="font-size:13px;line-height:2">
<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border)">
<span>Worst month (Jan)</span><span class="tn fw">&#8364;5,145</span></div>
<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border)">
<span>Best month (Aug)</span><span class="tp fw">&#8364;9,776</span></div>
<div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border)">
<span>Labor @ 30% worst month</span><span class="fw">&#8364;1,543</span></div>
<div style="display:flex;justify-content:space-between;padding:8px 0">
<span>Max permanent staff</span><span class="ba fw">1 people</span></div>
</div>
<div style="margin-top:16px;padding:12px;background:var(--bg);border-radius:8px;font-size:12px;color:var(--t2)">
<strong style="color:var(--t1)">PT Reality:</strong> With contracts, plan for worst month. Use part-time for Sat/Sun peaks. Consider reduced hours Nov-Jan instead of more staff.
</div>
</div></div></div></section>

<!-- Revenue by Category Chart -->
<section class="s">
<div class="sh"><h2 class="st">Revenue by Category</h2></div>
<div class="card"><div style="padding:var(--s4)"><div id="chart" style="height:300px"></div></div></div></section>

<!-- All Products -->
<section class="s">
<div class="sh"><h2 class="st">All Products</h2><span class="tm" style="font-size:13px">132 items</span></div>
<div class="card"><div class="tc" style="max-height:400px;overflow-y:auto"><table>
<thead style="position:sticky;top:0;background:var(--bg2)"><tr><th>#</th><th>Product</th><th class="tr">Units</th><th class="tr">Revenue</th><th>Class</th></tr></thead>
<tbody><tr><td class="tm">1</td><td class="fw">MENU Prato do Dia</td><td class="tr">432</td><td class="tr">4,115</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">2</td><td class="fw">Bolo a Fatia Tradicional</td><td class="tr">271</td><td class="tr">1,159</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">3</td><td class="fw">Meia Leite</td><td class="tr">693</td><td class="tr">1,025</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">4</td><td class="fw">Prato do DIA</td><td class="tr">145</td><td class="tr">955</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">5</td><td class="fw">Espresso</td><td class="tr">1,043</td><td class="tr">945</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">6</td><td class="fw">Bolo Vulcao c/ Cobertura</td><td class="tr">313</td><td class="tr">937</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">7</td><td class="fw">Bolo a Fatia Especialida</td><td class="tr">190</td><td class="tr">868</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">8</td><td class="fw">Bolos Secos</td><td class="tr">267</td><td class="tr">755</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">9</td><td class="fw">Tarte Semifrio</td><td class="tr">210</td><td class="tr">716</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">10</td><td class="fw">Tosta Abacate</td><td class="tr">68</td><td class="tr">624</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">11</td><td class="fw">bolo abacaxi</td><td class="tr">145</td><td class="tr">559</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">12</td><td class="fw">Bolo Seco c/ Cobertura</td><td class="tr">165</td><td class="tr">552</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">13</td><td class="fw">Tosta Ovos Mexidos</td><td class="tr">70</td><td class="tr">516</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">14</td><td class="fw">Tosta Mista</td><td class="tr">176</td><td class="tr">515</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">15</td><td class="fw">Sumo Natural Laranja</td><td class="tr">147</td><td class="tr">493</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">16</td><td class="fw">Capuccino</td><td class="tr">142</td><td class="tr">425</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">17</td><td class="fw">Americano</td><td class="tr">198</td><td class="tr">388</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">18</td><td class="fw">Meia Torrada</td><td class="tr">191</td><td class="tr">366</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">19</td><td class="fw">MENU Prato do Dia c/ sop</td><td class="tr">31</td><td class="tr">364</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">20</td><td class="fw">EXTRA comida</td><td class="tr">47</td><td class="tr">349</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">21</td><td class="fw">Sumo Natural Dia</td><td class="tr">99</td><td class="tr">349</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">22</td><td class="fw">Biscoito Amanteigado</td><td class="tr">76</td><td class="tr">303</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">23</td><td class="fw">Brigadeiro 1uni</td><td class="tr">263</td><td class="tr">297</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">24</td><td class="fw">Agua c/ Gas</td><td class="tr">202</td><td class="tr">283</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">25</td><td class="fw">Tosta Salmao</td><td class="tr">30</td><td class="tr">279</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">26</td><td class="fw">Salada Frango</td><td class="tr">24</td><td class="tr">226</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">27</td><td class="fw">Cha</td><td class="tr">123</td><td class="tr">224</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">28</td><td class="fw">Agua s/ Gas</td><td class="tr">252</td><td class="tr">224</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">29</td><td class="fw">Pingo</td><td class="tr">145</td><td class="tr">195</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">30</td><td class="fw">Limonada</td><td class="tr">100</td><td class="tr">186</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">31</td><td class="fw">Pao de Queijo 6uni</td><td class="tr">51</td><td class="tr">176</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">32</td><td class="fw">Tosta Vegetariana</td><td class="tr">19</td><td class="tr">172</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">33</td><td class="fw">Brigadeiro 12uni</td><td class="tr">16</td><td class="tr">163</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">34</td><td class="fw">Bolo Vulcao Especialidad</td><td class="tr">44</td><td class="tr">160</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">35</td><td class="fw">Quiche</td><td class="tr">41</td><td class="tr">160</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">36</td><td class="fw">Torrada Pao Abobora Noz</td><td class="tr">57</td><td class="tr">160</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">37</td><td class="fw">Salada Salmao</td><td class="tr">13</td><td class="tr">151</td><td><span class="b bn">Dog</span></td></tr><tr><td class="tm">38</td><td class="fw">Quiche c/ Salada</td><td class="tr">35</td><td class="tr">151</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">39</td><td class="fw">Super Bock</td><td class="tr">85</td><td class="tr">146</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">40</td><td class="fw">Cookies Tradicionais</td><td class="tr">47</td><td class="tr">140</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">41</td><td class="fw">Prato F. S.</td><td class="tr">15</td><td class="tr">140</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">42</td><td class="fw">Espresso</td><td class="tr">301</td><td class="tr">139</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">43</td><td class="fw">Agua c/ Gas Sabores</td><td class="tr">77</td><td class="tr">131</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">44</td><td class="fw">Brigadeiro c/ Cafe</td><td class="tr">87</td><td class="tr">127</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">45</td><td class="fw">Torrada Pao Alentejano</td><td class="tr">43</td><td class="tr">124</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">46</td><td class="fw">Salada a Chefe</td><td class="tr">13</td><td class="tr">122</td><td><span class="b bn">Dog</span></td></tr><tr><td class="tm">47</td><td class="fw">Embalagem Take Away</td><td class="tr">238</td><td class="tr">116</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">48</td><td class="fw">Sopa do Dia</td><td class="tr">34</td><td class="tr">116</td><td><span class="b bm">Plowhorse</span></td></tr><tr><td class="tm">49</td><td class="fw">Pao de Queijo 12uni</td><td class="tr">14</td><td class="tr">114</td><td><span class="b bp">Star</span></td></tr><tr><td class="tm">50</td><td class="fw">Biscoito Areia</td><td class="tr">29</td><td class="tr">110</td><td><span class="b bp">Star</span></td></tr></tbody></table></div></div></section>

<footer class="ft">Terracota Cafe &middot; Operations Hub</footer>
</div>
</div>

<script>
function checkPwd(){const p=document.getElementById('pwd').value;if(p==='terracota2025'){sessionStorage.setItem('auth','1');document.getElementById('login').classList.add('hidden');document.getElementById('dashboard').classList.add('visible');}else{document.getElementById('loginError').style.display='block';document.getElementById('pwd').value='';}}
if(sessionStorage.getItem('auth')==='1'){document.getElementById('login').classList.add('hidden');document.getElementById('dashboard').classList.add('visible');}
</script>
<script>
Plotly.newPlot('chart',[{x:[1.0, 332.8, 351.5, 2364.85, 3933.38, 17342.52],y:['Afternoon Tea /', 'Take Away', 'EXTRAS /', 'Bebidas', 'Cafetaria', 'Comidas'],type:'bar',orientation:'h',marker:{color:'#E07A5F'},hovertemplate:'<b>%{y}</b><br>%{x:,.0f}<extra></extra>'}],{paper_bgcolor:'transparent',plot_bgcolor:'transparent',font:{family:'Inter',color:'rgba(255,255,255,.56)',size:12},margin:{t:8,r:24,b:32,l:120},xaxis:{gridcolor:'rgba(255,255,255,.04)',tickformat:',.0f',zeroline:false},yaxis:{gridcolor:'transparent'},bargap:.4},{responsive:true,displayModeBar:false});
Plotly.newPlot('monthlyChart',[
{x:['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],y:[9775.87, 9003.44, 9340.789999999999, 6264.81, 5967.16, 5144.73],name:'Revenue',type:'bar',marker:{color:'#E07A5F'},hovertemplate:'<b>%{x}</b><br>Revenue: %{y:,.0f}<extra></extra>'},
{x:['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],y:[9711.779999999999, 9054.55, 12066.54, 11347.939999999999, 9593.74, 3550.13],name:'Expenses',type:'bar',marker:{color:'rgba(255,255,255,0.2)'},hovertemplate:'<b>%{x}</b><br>Expenses: %{y:,.0f}<extra></extra>'},
{x:['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],y:[64.09000000000196, -51.10999999999876, -2725.750000000002, -5083.129999999998, -3626.58, 1594.5999999999995],name:'Net',type:'scatter',mode:'lines+markers',line:{color:'#4ADE80',width:3},marker:{size:8},hovertemplate:'<b>%{x}</b><br>Net: %{y:+,.0f}<extra></extra>'},
{x:['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],y:[9776.0, 9390.0, 9373.0, 9373.0, 8203.0, 7191.0],name:'Forecast',type:'scatter',mode:'lines',line:{color:'#FBBF24',width:2,dash:'dash'},hovertemplate:'<b>%{x}</b><br>Forecast: %{y:,.0f}<extra></extra>'}
],{paper_bgcolor:'transparent',plot_bgcolor:'transparent',font:{family:'Inter',color:'rgba(255,255,255,.56)',size:12},margin:{t:16,r:16,b:40,l:60},xaxis:{gridcolor:'transparent'},yaxis:{gridcolor:'rgba(255,255,255,.04)',tickformat:',.0f',zeroline:true,zerolinecolor:'rgba(255,255,255,.1)'},barmode:'group',bargap:0.3,showlegend:true,legend:{orientation:'h',y:1.15,x:0.5,xanchor:'center'}},{responsive:true,displayModeBar:false});
</script>
</body>
</html>